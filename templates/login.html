<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Sign In - Public Assist Hub</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap & Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/login.css') }}"
    />
  </head>
  <style>
body {
  background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
    url('/static/css/images/background.webp');
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center center;
  background-attachment: fixed; /* Optional for a parallax effect */
  height: 100vh;
  width: 100%;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Heebo", sans-serif;
}

  </style>
  <body>
    <div class="d-flex align-items-center justify-content-center vh-100">
      <div
        class="form-container p-4 shadow-lg rounded"
        style="width: 400px; background: #fff"
      >
        <div class="mb-4 text-center">
          <h3 class="text-dark fw-bold">Public Assist Hub</h3>
          <p class="text-muted">Sign in with Email</p>
        </div>

        <!-- Step 1: Enter Email -->
        <form id="otpRequestForm" onsubmit="return false;" style="background-color: rgba(255, 255, 255, 0.9);">
          <div class="form-floating mb-3">
            <input
              type="email"
              class="form-control"
              name="email"
              id="email"
              placeholder="Enter email"
              required
            />
            <label for="email">Email Address</label>
          </div>
          <button type="button" id="sendOtpBtn" class="btn w-100">
            Send OTP
          </button>
        </form>

        <!-- Step 2: OTP Verification (Hidden Initially) -->
        <form id="otpVerifyForm" style="display: none" onsubmit="return false;">
          <div class="form-floating mb-3">
            <input
              type="text"
              class="form-control"
              name="otp"
              id="otp"
              placeholder="Enter OTP"
              required
            />
            <label for="otp">Enter OTP</label>
          </div>
          <div
            id="otpError"
            class="text-danger mb-3"
            style="display: none"
          ></div>
          <button type="button" id="verifyOtpBtn" class="btn w-100">
            Verify OTP
          </button>
        </form>
      </div>
    </div>

    <!-- Toast message -->

    <div class="position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 1100">
      <div id="toastMessage" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
          <div class="toast-body" id="toastBody">
            Success message goes here.
          </div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
    </div>
    

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript to Handle Email OTP Request and Verification -->
    <script src="{{ url_for('static', filename='js/login.js') }}"></script>
  </body>
</html>
